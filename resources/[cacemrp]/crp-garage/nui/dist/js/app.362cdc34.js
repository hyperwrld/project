(function(e){function t(t){for(var i,r,c=t[0],u=t[1],o=t[2],h=0,p=[];h<c.length;h++)r=c[h],s[r]&&p.push(s[r][0]),s[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,o||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,c=1;c<n.length;c++){var u=n[c];0!==s[u]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},s={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canShow?n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"container"}},[n("menuBuilder",{attrs:{menuType:e.menuType,menuList:e.menuList}})],1)]):e._e()},a=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"mainMenu"==e.menuType?n("div",[n("h5",{staticClass:"title center-align"},[e._v("Garagem")]),n("div",e._l(e.menuList,(function(t,i){return n("div",{key:i,staticClass:"button fadeIn animated slower",attrs:{item:t}},[n("div",{staticClass:"buttonInfo",class:{"active-item":e.currentItem===i}},[n("p",{staticClass:"center-align"},[e._v(e._s(t.name))])])])})),0)]):"vehicleList"==e.menuType?n("div",[n("h5",{staticClass:"title center-align",staticStyle:{width:"50%"}},[e._v("Lista de veículos")]),n("div",{staticClass:"vehicleList"},e._l(e.displayVehicles,(function(t,i){return n("div",{key:i,staticClass:"vehicle fadeIn animated slower",attrs:{item:t}},["back"!=t.option?n("div",{staticClass:"vehicleInfo",class:{"active-item":e.currentItem===i}},[n("p",[e._v(e._s(JSON.parse(t.vehicle).label+" ["+t.plate+"]"))]),0==t.status?n("p",[e._v("Fora")]):1==t.status?n("p",{staticStyle:{color:"rgb(39, 163, 66)"}},[e._v("Dentro")]):2==t.status?n("p",{staticStyle:{color:"rgb(237, 172, 19)"}},[e._v("Apreendido")]):3==t.status?n("p",{staticStyle:{color:"rgb(255, 0, 0)"}},[e._v("Apreendido (Polícia)")]):e._e()]):n("div",{staticClass:"vehicleInfo",class:{"active-item":e.currentItem===i}},[n("p",{staticStyle:{"text-align":"center",width:"100%"}},[e._v(e._s(t.label))])]),"back"!=t.option?n("div",{staticClass:"vehicleStatus",class:{"active-status":e.currentItem===i}},[n("p",[e._v(e._s("Motor: "+JSON.parse(t.vehicle).engineDamage+"%"))]),n("p",[e._v(e._s("Chassi: "+JSON.parse(t.vehicle).bodyDamage+"%"))]),n("p",[e._v(e._s("Gasolina: "+JSON.parse(t.vehicle).fuel+"%"))])]):e._e()])})),0),n("div",{staticClass:"pagination"},[n("button",{staticClass:"left",on:{click:function(t){e.currentPage--}}},[n("i",{staticClass:"material-icons"},[e._v("navigate_before")])]),n("p",[e._v(e._s(this.currentPage+" de "+this.pages.length))]),n("button",{staticClass:"right",on:{click:function(t){e.currentPage++}}},[n("i",{staticClass:"material-icons"},[e._v("navigate_next")])])])]):"spawnVehicle"==e.menuType?n("div",[n("h5",{staticClass:"title center-align"},[e._v("Spawnar")]),n("div",e._l(e.menuList,(function(t,i){return n("div",{key:i,staticClass:"button fadeIn animated slower",attrs:{item:t}},[n("div",{staticClass:"buttonInfo",class:{"active-item":e.currentItem===i}},[n("p",{staticClass:"center-align"},[e._v(e._s(t.name))])])])})),0)]):e._e()},c=[],u=(n("96cf"),n("3b8d")),o={send:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,fetch("http://crp-garage/nuiMessage",{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),emulate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.dispatchEvent(new MessageEvent("message",{data:{type:e,data:t}}))}},l={name:"Menu",props:{menuType:String,menuList:Array},methods:{nextItem:function(e){var t=this;switch(e){case 13:switch(this.menuType){case"mainMenu":switch(this.menuList[this.currentItem].option){case"storeVehicle":o.send({close:!0,storeVehicle:!0});break;case"vehicleList":o.send({getVehicles:!0}).then((function(e){t.menuList=e,t.menuType="vehicleList"}));break;case"closeMenu":o.send({close:!0});break;default:break}break;case"vehicleList":this.displayVehicles[this.currentItem].option?(this.menuList=[{name:"Guardar Veículo",option:"storeVehicle"},{name:"Lista de veículos",option:"vehicleList"},{name:"Fechar",option:"closeMenu"}],this.menuType="mainMenu"):1==this.displayVehicles[this.currentItem].status&&(this.currentVehicleData=this.displayVehicles[this.currentItem],this.menuType="spawnVehicle",this.menuList=[{name:"Spawnar",option:"spawnVehicle"},{name:"Voltar",option:"back"}]);break;case"spawnVehicle":"spawnVehicle"==this.menuList[this.currentItem].option?o.send({close:!0,spawnVehicle:!0,vehicleInfo:this.currentVehicleData}):o.send({getVehicles:!0}).then((function(e){t.menuList=e,t.menuType="vehicleList"}));break;default:break}break;case 27:o.send({close:!0});break;case 37:this.currentPage--;break;case 38:this.currentItem>0&&this.currentItem--;break;case 39:this.currentPage++;break;case 40:var n="vehicleList"==this.menuType?this.displayVehicles.length:this.menuList.length;this.currentItem<n-1&&this.currentItem++;break}},setPages:function(){this.pages=[];for(var e=Math.ceil(this.menuList.length/5),t=1;t<=e;t++)this.pages.push(t)},paginate:function(){this.currentItem=0,this.currentPage<1?this.currentPage=1:this.currentPage>this.pages.length&&(this.currentPage=this.pages.length);var e=5*this.currentPage-5,t=5*this.currentPage,n=this.menuList.slice(e,t);return n.push({option:"back",label:"Voltar"}),n}},data:function(){return{currentItem:0,currentPage:1,currentVehicleData:[],pages:[]}},computed:{displayVehicles:function(){return this.paginate()}},mounted:function(){var e=this;document.addEventListener("keyup",this.nextItem),this.listener=window.addEventListener("message",(function(t){switch(t.data.eventName){case"controlPressed":e.nextItem(t.data.control);break}}),!1)},watch:{menuType:function(){this.currentItem=0,"vehicleList"==this.menuType&&this.setPages()}}},h=l,p=n("2877"),d=Object(p["a"])(h,r,c,!1,null,null,null),m=d.exports,v={name:"app",components:{menuBuilder:m},data:function(){return{canShow:!1,menuType:"mainMenu",menuList:[{name:"Guardar Veículo",option:"storeVehicle"},{name:"Lista de veículos",option:"vehicleList"},{name:"Fechar",option:"closeMenu"}]}},destroyed:function(){window.removeEventListener("message",this.listener)},mounted:function(){var e=this;this.listener=window.addEventListener("message",(function(t){switch(t.data.eventName){case"toggleMenu":e.canShow=t.data.status;break;default:break}}),!1)}},f=v,g=(n("6294"),Object(p["a"])(f,s,a,!1,null,null,null)),b=g.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(b)}}).$mount("#app")},6294:function(e,t,n){"use strict";var i=n("7fba"),s=n.n(i);s.a},"7fba":function(e,t,n){}});
//# sourceMappingURL=app.362cdc34.js.map